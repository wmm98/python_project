function PubCourse(){}PubCourse.prototype.initUEditor=function(){window.ue=UE.getEditor("editor",{initialFrameHeight:400,serverUrl:"/ueditor/upload/"})},PubCourse.prototype.listenSubmitEvent=function(){$("#submit-btn").click(function(){var t=$(this).attr("data-course-id"),i=$("#title-input").val(),e=$("#category-input").val(),o=$("#teacher-input").val(),u=$("#video-input").val(),n=$("#cover-input").val(),r=$("#price-input").val(),c=$("#duration-input").val(),a=window.ue.getContent(),l="";l=t?"/cms/edit_course/":"/cms/pub_course/",xfzajax.post({url:l,data:{title:i,video_url:u,cover_url:n,price:r,duration:c,profile:a,category_id:e,teacher_id:o,pk:t},success:function(t){200===t.code&&("/cms/edit_course/"==l?xfzalert.alertSuccess("课程编辑成功！",function(){window.location.reload()}):xfzalert.alertSuccess("恭喜！课程发表成功！",function(){window.location.reload()}))}})})},PubCourse.prototype.run=function(){this.initUEditor(),this.listenSubmitEvent()},$(function(){(new PubCourse).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInB1Yl9jb3Vyc2UuanMiXSwibmFtZXMiOlsiUHViQ291cnNlIiwicHJvdG90eXBlIiwiaW5pdFVFZGl0b3IiLCJ3aW5kb3ciLCJ1ZSIsIlVFIiwiZ2V0RWRpdG9yIiwiaW5pdGlhbEZyYW1lSGVpZ2h0Iiwic2VydmVyVXJsIiwibGlzdGVuU3VibWl0RXZlbnQiLCIkIiwiY2xpY2siLCJwayIsInRoaXMiLCJhdHRyIiwidGl0bGUiLCJ2YWwiLCJjYXRlZ29yeV9pZCIsInRlYWNoZXJfaWQiLCJ2aWRlb191cmwiLCJjb3Zlcl91cmwiLCJwcmljZSIsImR1cmF0aW9uIiwicHJvZmlsZSIsImdldENvbnRlbnQiLCJ1cmwiLCJ4ZnphamF4IiwicG9zdCIsImRhdGEiLCJzdWNjZXNzIiwicmVzdWx0IiwieGZ6YWxlcnQiLCJhbGVydFN1Y2Nlc3MiLCJsb2NhdGlvbiIsInJlbG9hZCIsInJ1biJdLCJtYXBwaW5ncyI6IkFBQ0EsU0FBU0EsYUFJVEEsVUFBVUMsVUFBVUMsWUFBYyxXQUM5QkMsT0FBT0MsR0FBS0MsR0FBR0MsVUFBVSxTQUFTLENBQzlCQyxtQkFBc0IsSUFDdEJDLFVBQWEsc0JBSXJCUixVQUFVQyxVQUFVUSxrQkFBb0IsV0FDcEJDLEVBQUUsZUFHUkMsTUFBTSxXQUdaLElBQ0lDLEVBRE1GLEVBQUVHLE1BQ0NDLEtBQUssa0JBRWRDLEVBQVFMLEVBQUUsZ0JBQWdCTSxNQUMxQkMsRUFBY1AsRUFBRSxtQkFBbUJNLE1BQ25DRSxFQUFhUixFQUFFLGtCQUFrQk0sTUFFakNHLEVBQVlULEVBQUUsZ0JBQWdCTSxNQUM5QkksRUFBWVYsRUFBRSxnQkFBZ0JNLE1BQzlCSyxFQUFRWCxFQUFFLGdCQUFnQk0sTUFDMUJNLEVBQVdaLEVBQUUsbUJBQW1CTSxNQUNoQ08sRUFBVXBCLE9BQU9DLEdBQUdvQixhQUlwQkMsRUFBTSxHQUVOQSxFQUREYixFQUNPLG9CQUVBLG1CQUdWYyxRQUFRQyxLQUFLLENBQ1RGLElBQU9BLEVBQ1BHLEtBQVEsQ0FDSmIsTUFBU0EsRUFDVEksVUFBYUEsRUFDYkMsVUFBYUEsRUFDYkMsTUFBU0EsRUFDVEMsU0FBWUEsRUFDWkMsUUFBV0EsRUFDWE4sWUFBZUEsRUFDZkMsV0FBY0EsRUFDZE4sR0FBTUEsR0FFVmlCLFFBQVcsU0FBVUMsR0FDSyxNQUFuQkEsRUFBYSxPQUVGLHFCQUFQTCxFQUNDTSxTQUFTQyxhQUFhLFVBQVUsV0FDNUI3QixPQUFPOEIsU0FBU0MsV0FHcEJILFNBQVNDLGFBQWEsYUFBYSxXQUMvQjdCLE9BQU84QixTQUFTQyxrQkFVNUNsQyxVQUFVQyxVQUFVa0MsSUFBTSxXQUN0QnRCLEtBQUtYLGNBQ0xXLEtBQUtKLHFCQUlUQyxFQUFFLFlBQ2UsSUFBSVYsV0FDVm1DIiwiZmlsZSI6InB1Yl9jb3Vyc2UubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmZ1bmN0aW9uIFB1YkNvdXJzZSgpIHtcclxuXHJcbn1cclxuXHJcblB1YkNvdXJzZS5wcm90b3R5cGUuaW5pdFVFZGl0b3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB3aW5kb3cudWUgPSBVRS5nZXRFZGl0b3IoXCJlZGl0b3JcIix7XHJcbiAgICAgICAgJ2luaXRpYWxGcmFtZUhlaWdodCc6IDQwMCxcclxuICAgICAgICAnc2VydmVyVXJsJzogJy91ZWRpdG9yL3VwbG9hZC8nXHJcbiAgICB9KTtcclxufTtcclxuXHJcblB1YkNvdXJzZS5wcm90b3R5cGUubGlzdGVuU3VibWl0RXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc3VibWl0QnRuID0gJChcIiNzdWJtaXQtYnRuXCIpO1xyXG5cclxuXHJcbiAgICBzdWJtaXRCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAvLyBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHZhciBidG4gPSAkKHRoaXMpO1xyXG4gICAgICAgIHZhciBwayA9IGJ0bi5hdHRyKCdkYXRhLWNvdXJzZS1pZCcpO1xyXG5cclxuICAgICAgICB2YXIgdGl0bGUgPSAkKFwiI3RpdGxlLWlucHV0XCIpLnZhbCgpO1xyXG4gICAgICAgIHZhciBjYXRlZ29yeV9pZCA9ICQoXCIjY2F0ZWdvcnktaW5wdXRcIikudmFsKCk7XHJcbiAgICAgICAgdmFyIHRlYWNoZXJfaWQgPSAkKFwiI3RlYWNoZXItaW5wdXRcIikudmFsKCk7XHJcbiAgICAgICAgLy8gdmFyIHRlYWNoZXJfaWQgPSAkKFwic2VsZWN0W25hbWU9J3RlYWNoZXInXVwiKS52YWwoKTtcclxuICAgICAgICB2YXIgdmlkZW9fdXJsID0gJChcIiN2aWRlby1pbnB1dFwiKS52YWwoKTtcclxuICAgICAgICB2YXIgY292ZXJfdXJsID0gJChcIiNjb3Zlci1pbnB1dFwiKS52YWwoKTtcclxuICAgICAgICB2YXIgcHJpY2UgPSAkKFwiI3ByaWNlLWlucHV0XCIpLnZhbCgpO1xyXG4gICAgICAgIHZhciBkdXJhdGlvbiA9ICQoXCIjZHVyYXRpb24taW5wdXRcIikudmFsKCk7XHJcbiAgICAgICAgdmFyIHByb2ZpbGUgPSB3aW5kb3cudWUuZ2V0Q29udGVudCgpO1xyXG5cclxuXHJcblxyXG4gICAgICAgIHZhciB1cmwgPSAnJztcclxuICAgICAgICBpZihwayl7XHJcbiAgICAgICAgICAgIHVybCA9ICcvY21zL2VkaXRfY291cnNlLyc7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHVybCA9ICcvY21zL3B1Yl9jb3Vyc2UvJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHhmemFqYXgucG9zdCh7XHJcbiAgICAgICAgICAgICd1cmwnOiB1cmwsXHJcbiAgICAgICAgICAgICdkYXRhJzoge1xyXG4gICAgICAgICAgICAgICAgJ3RpdGxlJzogdGl0bGUsXHJcbiAgICAgICAgICAgICAgICAndmlkZW9fdXJsJzogdmlkZW9fdXJsLFxyXG4gICAgICAgICAgICAgICAgJ2NvdmVyX3VybCc6IGNvdmVyX3VybCxcclxuICAgICAgICAgICAgICAgICdwcmljZSc6IHByaWNlLFxyXG4gICAgICAgICAgICAgICAgJ2R1cmF0aW9uJzogZHVyYXRpb24sXHJcbiAgICAgICAgICAgICAgICAncHJvZmlsZSc6IHByb2ZpbGUsXHJcbiAgICAgICAgICAgICAgICAnY2F0ZWdvcnlfaWQnOiBjYXRlZ29yeV9pZCxcclxuICAgICAgICAgICAgICAgICd0ZWFjaGVyX2lkJzogdGVhY2hlcl9pZCxcclxuICAgICAgICAgICAgICAgICdwayc6IHBrXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYocmVzdWx0Wydjb2RlJ10gPT09IDIwMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gd2luZG93LmxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYodXJsID09ICcvY21zL2VkaXRfY291cnNlLycpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB4ZnphbGVydC5hbGVydFN1Y2Nlc3MoJ+ivvueoi+e8lui+keaIkOWKn++8gScsZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeGZ6YWxlcnQuYWxlcnRTdWNjZXNzKCfmga3llpzvvIHor77nqIvlj5HooajmiJDlip/vvIEnLGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5QdWJDb3Vyc2UucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMuaW5pdFVFZGl0b3IoKTtcclxuICAgIHRoaXMubGlzdGVuU3VibWl0RXZlbnQoKTtcclxufTtcclxuXHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBjb3Vyc2UgPSBuZXcgUHViQ291cnNlKCk7XHJcbiAgICBjb3Vyc2UucnVuKCk7XHJcbn0pOyJdfQ==
